===== PATCH 1 =====
--- a/Planner.java
+++ b/Planner.java
@@ -1,5 +1,7 @@
 import java.util.List;
+import java.util.Map;
 
 public class Planner {
     public static void main(String[] args) {
         if (hasOpenIssues()) {
             Map<String, Object> issue = getFirstIssue();
             String repoPath = checkoutRepo((String) issue.get("repo"));
@@ -10,6 +12,7 @@
             PlanningToolStubs.run_command("git push origin " + branchName);
             PlanningToolStubs.create_pull_request(repoPath, branchName, "Fix issue " + issue.get("id"));
         } else {
             System.out.println("No open issues found.");
         }
     }

@@ -18,6 +21,7 @@
     private static boolean hasOpenIssues() {
         // Stub: Check if there are any open issues in Qlty.
+        Map<String, Object> issues = PlanningToolStubs.search_text_in_repository(".", "status:open", true, null, null, List.of("issue"));
+        return !issues.isEmpty();
     }

     private static Map<String, Object> getFirstIssue() {
         // Stub: Retrieve the first open issue from Qlty.
@@ -25,6 +29,7 @@
     }

     private static String checkoutRepo(String repoUrl) {
         // Stub: Checkout the relevant GitHub repository.
+        PlanningToolStubs.run_command("git clone " + repoUrl);
+        return repoUrl.split("/")[4];
     }

     private static String generateFixCode(Map<String, Object> issue) {
         // Placeholder for code generation logic based on the issue.
         return "public class Fix { public void fix() {} }";
     }
 }
