===== PATCH 1 =====
--- a/Planner.java
+++ b/Planner.java
@@ -1,2 +1,3 @@
 import java.util.List;
+import java.util.Map;

 public class Planner {
@@ -4,6 +5,7 @@ public class Planner {
     private static void processIssues() {
         List<Map<String, Object>> issues = fetchOpenIssuesFromQlty();
         if (issues.isEmpty()) {
             System.out.println("No open issues found.");
             return;
         }
         Map<String, Object> issue = issues.get(0);
         String repoPath = checkoutCodeFromGitHub(issue);
         String branchName = createBranch(repoPath, issue);
         diagnoseAndFixIssue(repoPath, branchName, issue);
         pushChangesToGitHub(branchName);
         createPullRequestOnGitHub(branchName, issue);
     }

     private static List<Map<String, Object>> fetchOpenIssuesFromQlty() {
         // Stub: Fetch open issues from the Qlty API.
         return PlanningToolStubs.search_text_in_repository("qlty/issues", "open", false, null, false, List.of(".json"));
     }

     private static String checkoutCodeFromGitHub(Map<String, Object> issue) {
         // Stub: Check out the relevant code from GitHub.
         String repoUrl = (String) issue.get("repo_url");
         return PlanningToolStubs.clone_repository(repoUrl);
     }

     private static String createBranch(String repoPath, Map<String, Object> issue) {
         // Stub: Create a unique branch to address the issue.
         String issueId = (String) issue.get("id");
     }

     private static void diagnoseAndFixIssue(String repoPath, String branchName, Map<String, Object> issue) {
         // Stub: Diagnose the root cause of the issue and propose code changes.
         String filePath = (String) issue.get("file_path");
         String content = PlanningToolStubs.read_file(filePath).get("content").toString();
         String fixedContent = refineCode(content);
         PlanningToolStubs.write_file(filePath, fixedContent, "w");
     }

     private static String refineCode(String code) {
         // Stub: Refine the code to ensure it compiles and passes tests.
         return code.replace("// TODO", "// Fixed");
     }

     private static void pushChangesToGitHub(String branchName) {
         // Stub: Push the branch to GitHub.
         PlanningToolStubs.push_branch(branchName);
     }

     private static void createPullRequestOnGitHub(String branchName, Map<String, Object> issue) {
         // Stub: Create a pull request on GitHub with a concise description of the changes made.
         String prTitle = "Fix issue " + issue.get("id");
         String prBody = "This PR fixes the root cause of issue " + issue.get("id") + ".";
         PlanningToolStubs.create_pull_request(branchName, prTitle, prBody);
     }
 }
